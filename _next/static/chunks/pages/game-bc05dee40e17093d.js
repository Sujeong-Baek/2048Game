(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{3874:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n(3766)}])},8819:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(5893),u=n(9630),o=n(7294);function l(t){let{boardTiles:e,focusingBoard:n,boardFocus:l,push:c}=t,[s,i]=(0,o.useState)({x:0,y:0}),[a,f]=(0,o.useState)({x:0,y:0}),d=t=>{i({x:t.touches[0].clientX,y:t.touches[0].clientY})},h=t=>{f({x:t.touches[0].clientX,y:t.touches[0].clientY})},m=()=>{let t=a.x-s.x,e=a.y-s.y;Math.abs(t)>Math.abs(e)?t>0?c("r"):c("l"):e>0?c("d"):c("u")};return(0,r.jsx)("div",{className:"board",ref:l,onBlur:n,onKeyDown:function(t){"ArrowLeft"===t.key?c("l"):"ArrowRight"===t.key?c("r"):"ArrowUp"===t.key?c("u"):"ArrowDown"===t.key&&c("d")},tabIndex:"0",onTouchStart:d,onTouchMove:h,onTouchEnd:m,children:null==e?void 0:e.map((t,e)=>(0,r.jsx)(u.default,{number:t},e))})}},2540:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(5893);function u(t){let{handleUndo:e,startNewGame:n,focusingBoard:u,undoCount:o}=t;return(0,r.jsxs)("div",{className:"button-container",children:[(0,r.jsxs)("button",{className:"undo-button",onClick:e,onFocus:u,children:[(0,r.jsx)("span",{className:"undo-count",children:Array(o).fill("❤️").join("")}),0===o&&(0,r.jsx)("span",{children:"Make a heart!!!"})]}),(0,r.jsx)("button",{className:"start-button",onClick:n,onFocus:u,children:"NEW GAME"})]})}n(7294)},3766:function(t,e,n){"use strict";n.r(e),n.d(e,{canMoveTile:function(){return h},default:function(){return f},push_down:function(){return j},push_left:function(){return x},push_right:function(){return m},push_up:function(){return v},updateTileNumber:function(){return d}});var r=n(5893),u=n(7294),o=n(2489),l=n(9417),c=n(4407),s=n(8423),i=n(2540),a=n(8819);function f(){let[t,e]=(0,u.useState)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),[n,o]=(0,u.useState)(0),[l,f]=(0,u.useState)(0),[w,p]=(0,u.useState)(500),[g,y]=(0,u.useState)(!1),[_,E]=(0,u.useState)([]);function M(){h()?!g&&t.includes(2048)&&((0,c.default)("YOU WIN!!!",b,"Continue playing!","Start a new game!"),y(!0)):(0,c.default)("GAME OVER!",N,"Start a new game!","I'm done.TnT")}(0,u.useEffect)(()=>{M()},[t]),(0,u.useEffect)(()=>{l<5&&w<=0&&(f(l+1),p(500+w))},[n]);let S=(0,u.useRef)(null);function k(){S.current.focus()}return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"board-container",children:[(0,r.jsx)("div",{className:"game",children:"GAME"}),(0,r.jsx)("div",{className:"game-name",children:"2048"}),g&&(0,r.jsx)("div",{className:"win-message",children:"YOU WIN!"}),(0,r.jsx)(s.default,{score:n})]}),(0,r.jsx)(a.default,{focusingBoard:k,boardTiles:t,boardFocus:S,push:function(r){let u=!1,l=[],c=0;if("l"===r?[u,l,c]=x([...t]):"r"===r?[u,l,c]=m([...t]):"u"===r?[u,l,c]=v([...t]):"d"===r&&([u,l,c]=j([...t])),u){e(d(l)),o(n+c),p(w-c),M();let r=[..._,[...t]];r.length>5&&r.shift(),E(r)}}}),(0,r.jsx)(i.default,{handleUndo:function(){if(l>0&&_.length>0){let t=_[_.length-1];e([...t]),f(l-1),p(500),E(_.slice(0,-1))}},focusingBoard:k,undoCount:l,startNewGame:function(){e(d(d([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))),o(0),y(!1),f(0),p(500),E([])}})]})}function d(t){let e=0,n=0;do e=Math.floor(4*Math.random()),n=Math.floor(4*Math.random());while(0!==t[4*e+n]);let r=[...t];return r[4*e+n]=.8>Math.random()?2:4,r}function h(t){if(!t||t.includes(0))return!0;for(let e=0;e<4;e++)for(let n=0;n<3;n++){let r=4*e+n;if(t[r]===t[r+1])return!0}for(let e=0;e<3;e++)for(let n=0;n<4;n++){let r=4*e+n;if(t[r]===t[r+4])return!0}return!1}function m(t){let e=!1,n=0,r=[...t];for(let t=0;t<4;t++){let u=0,o=3;for(let l=3;l>=0;l--)0!==r[4*t+l]&&(u!==r[4*t+l]?(u=r[4*t+l],r[4*t+l]=0,r[4*t+o]=u,l!==o&&(e=!0),o--):u===r[4*t+l]&&(r[4*t+o+1]=2*u,r[4*t+l]=0,n+=2*u,u=0,e=!0))}return[e,r,n]}function x(t){let e=!1,n=0,r=[...t];for(let t=0;t<4;t++){let u=0,o=0;for(let l=0;l<4;l++)0!==r[4*t+l]&&(u!==r[4*t+l]?(u=r[4*t+l],r[4*t+l]=0,r[4*t+o]=u,l!==o&&(e=!0),o++):u===r[4*t+l]&&(r[4*t+o-1]=2*u,r[4*t+l]=0,n+=2*u,u=0,e=!0))}return[e,r,n]}function j(t){let e=!1,n=0,r=[...t];for(let t=0;t<4;t++){let u=0,o=3;for(let l=3;l>=0;l--)0!==r[4*l+t]&&(u!==r[4*l+t]?(u=r[4*l+t],r[4*l+t]=0,r[4*o+t]=u,l!==o&&(e=!0),o--):u===r[4*l+t]&&(r[4*(o+1)+t]=2*u,r[4*l+t]=0,n+=2*u,u=0,e=!0))}return[e,r,n]}function v(t){let e=!1,n=0,r=[...t];for(let t=0;t<4;t++){let u=0,o=0;for(let l=0;l<4;l++)0!==r[4*l+t]&&(u!==r[4*l+t]?(u=r[4*l+t],r[4*l+t]=0,r[4*o+t]=u,l!==o&&(e=!0),o++):u===r[4*l+t]&&(r[4*(o-1)+t]=2*u,r[4*l+t]=0,n+=2*u,u=0,e=!0))}return[e,r,n]}let N=(0,r.jsx)("div",{children:(0,r.jsx)(o.G,{icon:l.bmm,style:{fontSize:"70px",color:"black"}})}),b=(0,r.jsx)("div",{children:(0,r.jsx)(o.G,{icon:l.lJX,style:{fontSize:"70px",color:"gold"}})})},4407:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var r=n(6455),u=n.n(r),o=n(7630),l=n.n(o);function c(t,e,n,r){setTimeout(()=>{let o=l()(u());o.fire({title:t,html:e,showCancelButton:!0,confirmButtonText:n,cancelButtonText:r}).then(t=>{t.value&&startNewGame()})},700)}},8423:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(5893);function u(t){let{score:e}=t;return(0,r.jsxs)("div",{className:"score-container",children:[(0,r.jsx)("div",{className:"score-label",children:"SCORE"}),(0,r.jsx)("div",{className:"score-value",children:e})]})}n(7294)},9630:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var r=n(5893);let u=new Map([[0,[187,173,160]],[2,[248,231,28]],[4,[242,202,24]],[8,[245,159,27]],[16,[246,122,29]],[32,[242,83,34]],[64,[210,30,40]],[128,[241,45,98]],[256,[234,33,126]],[512,[191,33,128]],[1024,[149,33,135]],[2048,[98,33,138]],[4096,[74,0,128]]]);function o(t){let{number:e}=t,[n,o,l]=u.get(e)||[38,153,50],c={backgroundColor:"rgb(".concat(n,", ").concat(o,", ").concat(l,")")};return(0,r.jsx)("div",{className:"tile",style:c,children:0===e?"":e})}}},function(t){t.O(0,[976,711,603,774,888,179],function(){return t(t.s=3874)}),_N_E=t.O()}]);